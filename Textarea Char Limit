<div id="step-##data:step_id##_##tag##" class="question_wrap text_input">
     <label id="label_for_comments" for="comments" class="text_field_label">Anything we should know about your situation? <ul class="form_error" id="first_name-error"><li class="form_error" id="first_name-error1">Required Field</li></ul></label>
    <textarea id="comments" class="max_chars" name="comments" placeholder="Comments? (optional)" style="height:100px;" /></textarea>
    <div class="question_prompt" style="opacity:0; transition:all 1s ease-in-out;"><span class="chars"><span class="max">000</span> characters maximum (<span class="togo">000</span><span class="msg"> remaining</span>)</span></div>
</div>

<style>
.inline_fields_group {
    display:flex;
    align-items:flex-end;
    justify-content:space-between;
}
.inline_fields_group .question_wrap {
    flex:0 1 auto;
    padding-right:1vh!important;
}
.inline_fields_group .question_wrap:last-of-type {
    padding-right:0!important;
}
.text_field_label {
    margin:8px 0 2px 0;
    font-size:15px;
}
input[type=text],input[type=email],input[type=tel],textarea {
    -webkit-appearance: none;
    padding:1.1vh; width:100%;
    margin:4px 0; font-size:16px;
    border:var(--fields_border);
    background-color:#fff;
    background-image:none;
    border-radius:var(--fields_border_radius);
}
#zip {
    max-width:150px;
}
.question_wrap.text_input label {
    display:block;
    margin-top:0;
    padding-top:0;
    padding-left:3px;
    line-height:1.1;
}
textarea {
    font-size:16px;
}
</style>

<script>
$(function(){
    $('.max_chars').on("input", function(){
        $('#notes').text( $(this).val() );
        var maxlength = 250;
        $('.max, .togo').text(maxlength);
        var currentLength = $(this).val().length;
        if( currentLength >= (maxlength - 50) && currentLength < maxlength ){
            $('.question_prompt').css({'opacity':'1', 'color':'inherit'});
            $('.togo').text(maxlength - currentLength);
            $('.msg').text(' remaining');
            $('.question_prompt').removeClass('on_error_label_style');
        } else if ( currentLength == maxlength ) {
            $('.question_prompt').css({'opacity':'1', 'color':'inherit'});
            $('.question_prompt').removeClass('on_error_label_style');
            $('.togo').text('');
            $('.msg').text('maximum reached');
        } else if ( currentLength >= maxlength ) {
            $('.question_prompt').css({'opacity':'1', 'color':'red'});
            $('.question_prompt').addClass('on_error_label_style');
            $('.togo').text(Math.abs(maxlength - currentLength));
            $('.msg').text(' too many');
        } else {
            $('.togo').text(maxlength - currentLength);
            $('.msg').text(' remaining');
            $('.question_prompt').css({'opacity':'0', 'color':'inherit'});
            $('.question_prompt').removeClass('on_error_label_style');
        }
    });
})
</script>
